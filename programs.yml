bat:
  - run: [cargo, install, bat]

bwataout:
  - run: [cargo, install, --path, . ,--force]

editorconfig:
  - symlink:
    - editorconfig
    - ~/.editorconfig

fd-find:
  - run: [cargo, install, fd-find]

fzf:
 - clone:
   - git@github.com:dmerejkowsky/fzf.git
   - ~/.fzf
 - run: [bash, "{home}/.fzf/install", --bin]

gdb:
  - symlink:
    - gdbinit
    - ~/.gdbinit

git:
  - write:
    - ~/.config/git/config
    - |
      # Autogenerated. Do not edit
      [core]
      excludesfile = {top_dir}/configs/git/excludes

      [include]
      path = {top_dir}/configs/git/config
      path = {home}/.config/git/config.local

  - write:
    - ~/.config/git/config.local
    - |
      # Configure your user here
      [user]
      name =
      email =

  - download:
      url: https://github.com/dandavison/delta/releases/download/0.4.5/delta-0.4.5-x86_64-unknown-linux-gnu.tar.gz
      extract_member: delta-0.4.5-x86_64-unknown-linux-gnu/delta
      dest: ~/.local/bin/delta
      executable: true

gtk:
  - write:
    - ~/.config/gtk-4.0/Compose
    - |
      <dead_acute> <space> : "'" apostrophe # Keep apostrophe working


hugo:
  - download:
      url: https://github.com/gohugoio/hugo/releases/download/v0.82.1/hugo_extended_0.82.1_Linux-64bit.tar.gz
      dest: ~/.local/bin/hugo
      extract_member: hugo
      executable: true

i3:
  - copy:
    - i3/config
    - ~/.config/i3/config
  - copy:
    - i3/status
    - ~/.config/i3status/config
  - symlink:
    - bin/passmenu
    - ~/.local/bin/passmenu

kakoune:
  - write:
    - ~/.config/kak/local.kak
    -  "# Put local kakoune config here"
  - symlink_dir:
    - kakoune/snippets
    - ~/.config/kak/snippets
  - symlink:
    - kakoune/kakrc
    - ~/.config/kak/kakrc
  - clone:
    - https://github.com/robertmeta/plug.kak.git
    - ~/.config/kak/plugins/plug.kak
  - run: [pipx, install, kak-spell]
  - run: [cargo, install, --git, "https://github.com/tux3/mdfmt", --rev, f0143922dad22b8ec3ff3800959f9a159921a1b5]
  - run: [cargo, install, kak-subvert]

kakmerge:
  - download:
      url: https://raw.githubusercontent.com/lenormf/kakmerge/105893428ad6fd875f30b538d63a3454e76abf47/kakmerge
      dest: ~/.local/bin/kakmerge
      executable: true

kak-lsp:
  - symlink_dir:
    - kak-lsp/
    - ~/.config/kak-lsp

  - download:
     url: https://github.com/kak-lsp/kak-lsp/releases/download/v9.0.0/kak-lsp-v9.0.0-x86_64-unknown-linux-musl.tar.gz
     dest: ~/.local/bin/kak-lsp
     extract_member: kak-lsp
     executable: true

kitty:
 - copy:
    - kitty.conf
    - ~/.config/kitty/kitty.conf

lf:
  - symlink:
    - lf
    - ~/.config/lf
  - download:
      url: https://github.com/gokcehan/lf/releases/download/r21/lf-linux-amd64.tar.gz
      dest: ~/.local/bin/lf
      extract_member: lf
      executable: true

litecli:
  - run: [pipx, install, litecli]
  - symlink:
    - litecli.ini
    - ~/.config/litecli/config

mpv:
  - symlink:
    - mpv/input.conf
    - ~/.config/mpv/input.conf
  - symlink:
    - mpv/mpv.conf
    - ~/.config/mpv/mpv.conf

ncmpcpp:
  - copy:
    - ncmpcpp
    - ~/.config/ncmpcpp/config

npm:
  - write:
    - ~/.npmrc
    - |
      # Allow using npm install -g without being root
      prefix = ~/.local/share/node/

rust-analyzer:
  - download:
     url: https://github.com/rust-analyzer/rust-analyzer/releases/download/2021-03-08/rust-analyzer-linux
     dest: ~/.local/bin/rust-analyzer
     executable: true

screen:
  - symlink:
    - screenrc
    - ~/.screenrc

sway:
  - symlink:
    - sway
    - ~/.config/sway/config

tig:
  - symlink:
    - tig
    - ~/.config/tig/config

tmux:
  - symlink:
    - tmux.conf
    - ~/.tmux.conf

xinitrc:
  - symlink:
    - xinitrc
    - ~/.xinitrc
  - write:
    - ~/.xinitrc.local
    - |
      # Run your window manager from here

youtube-dl:
  - symlink:
    - youtube-dl
    - ~/.config/youtube-dl/config

zsh:
  - write:
    - ~/.zshrc
    - |
      # Auto-generated. Do not edit
      source "{top_dir}/configs/zshrc"
      source "{home}/.zshrc.local"

  - write:
    - ~/.zshrc.local
    - |
      # Put your local settings here

  - download:
      url: https://raw.githubusercontent.com/dmerejkowsky/zsh-pure-prompt/master/pure.zsh
      dest: ~/.local/share/zsh/pure-prompt/prompt_pure_setup

  - download:
      url: https://raw.githubusercontent.com/dmerejkowsky/zsh-pure-prompt/master/async.zsh
      dest: ~/.local/share/zsh/pure-prompt/async
